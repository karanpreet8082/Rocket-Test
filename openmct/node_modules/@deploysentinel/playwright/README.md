# DeploySentinel Playwright Reporter

Enables viewing/debugging Playwright runs from remote environments (ex. CI) with
debug information you're used to having locally.

## Installation

Install the Playwright reporter into your Playwright project.

```sh
npm install -D @deploysentinel/playwright
```

## Usage

### Add Reporter

In your playwright config file (ex. `playwright.config.ts`) add:

```js
import type { PlaywrightTestConfig } from '@playwright/test';

const config: PlaywrightTestConfig = {
  reporter: '@deploysentinel/playwright',
  use: {
    /* Make sure this is not 'off' so debugger can upload trace info */
    trace: 'on',
  },
};
export default config;
```

### Add API Key

Lastly, export your API key to the OS environment variable
`DEPLOYSENTINEL_API_KEY`. You can grab your API key by
[logging into](https://www.deploysentinel.com/login)/[signing up for](https://www.deploysentinel.com/register)
DeploySentinel and visiting your team page:
[https://deploysentinel.com/team](https://deploysentinel.com/team).

```sh
DEPLOYSENTINEL_API_KEY=YOUR_API_KEY
```

### Debugging

To display internal debug logs, set the environment variable
`DEPLOYSENTINEL_LOG_VERBOSE` to `1`, `yes`, or `true`.

```sh
DEPLOYSENTINEL_LOG_VERBOSE=1 ('1', 'yes' or 'true')
```

### Run Playwright with an API Key

```sh
DEPLOYSENTINEL_API_KEY=xxx npx playwright test
```
